<!DOCTYPE html>
<html lang="zh">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>å‰ç«¯åµŒå…¥ Bing æœç´¢</title>
    <style>
        body {
            font-family: system-ui, -apple-system, 'Segoe UI', Roboto, sans-serif;
            max-width: 900px;
            margin: 2rem auto;
            padding: 0 1rem;
            background: #f5f7fa;
            color: #1e293b;
        }
        h1 {
            font-size: 1.8rem;
            font-weight: 500;
            margin-bottom: 1.5rem;
            color: #0f172a;
            border-left: 5px solid #0d6efd;
            padding-left: 1rem;
        }
        .search-panel {
            background: white;
            border-radius: 60px;
            box-shadow: 0 4px 12px rgba(0,0,0,0.08);
            padding: 0.5rem 0.5rem 0.5rem 1.5rem;
            display: flex;
            align-items: center;
            gap: 0.5rem;
            margin-bottom: 1.5rem;
            border: 1px solid #e2e8f0;
        }
        .search-panel input {
            flex: 1;
            border: none;
            outline: none;
            font-size: 1.1rem;
            padding: 0.8rem 0;
            background: transparent;
        }
        .search-panel button {
            background: #0d6efd;
            border: none;
            color: white;
            font-size: 1rem;
            font-weight: 500;
            padding: 0.7rem 2rem;
            border-radius: 50px;
            cursor: pointer;
            transition: background 0.15s;
            border: 1px solid #0d6efd;
            white-space: nowrap;
        }
        .search-panel button:hover {
            background: #0b5ed7;
        }
        .iframe-wrapper {
            background: white;
            border-radius: 24px;
            overflow: hidden;
            box-shadow: 0 12px 30px rgba(0,0,0,0.12);
            border: 1px solid #e9eef2;
        }
        #bingFrame {
            width: 100%;
            height: 500px;
            display: block;
            border: none;
        }
        .info-note {
            margin-top: 1.2rem;
            font-size: 0.9rem;
            background: #fff3cd;
            border-left: 4px solid #ffc107;
            padding: 0.75rem 1rem;
            border-radius: 12px;
            color: #856404;
        }
        .info-note a {
            color: #0d6efd;
            text-decoration: none;
            font-weight: 500;
        }
        .info-note a:hover {
            text-decoration: underline;
        }
        .fallback-link {
            margin-left: 0.5rem;
        }
    </style>
</head>
<body>
    <h1>ğŸ” åœ¨é¡µé¢å†…æµè§ˆ Bing æœç´¢ç»“æœ</h1>

    <!-- æœç´¢æ  + æŒ‰é’® -->
    <div class="search-panel">
        <input type="text" id="searchInput" placeholder="è¾“å…¥å…³é”®è¯ï¼Œä¾‹å¦‚ã€Œå‰ç«¯å¼€å‘ã€" autofocus>
        <button id="searchBtn">æœç´¢</button>
    </div>

    <!-- å›ºå®šå°ºå¯¸çš„å†…å®¹æ¡†ï¼ˆiframeï¼‰ -->
    <div class="iframe-wrapper">
        <iframe id="bingFrame" src="about:blank" sandbox="allow-same-origin allow-scripts allow-popups allow-forms"></iframe>
    </div>

    <!-- è¯´æ˜ä¸å¤‡ç”¨é“¾æ¥ -->
    <div class="info-note">
        âš ï¸ ç”±äº Bing çš„ <code>X-Frame-Options</code> æˆ–å†…å®¹å®‰å…¨ç­–ç•¥ï¼Œæœç´¢ç»“æœå¯èƒ½æ— æ³•ç›´æ¥æ˜¾ç¤ºåœ¨ iframe ä¸­ã€‚
        å¦‚æœä¸‹æ–¹ç©ºç™½ï¼Œè¯·å°è¯• <a id="newWindowLink" href="#" target="_blank">åœ¨æ–°çª—å£æ‰“å¼€æœç´¢ç»“æœ</a>ã€‚
        æ­¤ç¤ºä¾‹å®Œæ•´æ¼”ç¤ºäº†å‰ç«¯åµŒå…¥æŠ€æœ¯ï¼Œå®é™…å¯ç”¨æ€§å–å†³äºç›®æ ‡ç½‘ç«™çš„å“åº”å¤´ã€‚
    </div>

    <script>
        (function() {
            const searchInput = document.getElementById('searchInput');
            const searchBtn = document.getElementById('searchBtn');
            const bingFrame = document.getElementById('bingFrame');
            const newWindowLink = document.getElementById('newWindowLink');

            // æ„å»º Bing æœç´¢ URL
            function buildBingUrl(query) {
                if (!query.trim()) {
                    // å¦‚æœè¾“å…¥ä¸ºç©ºï¼Œè¿”å› Bing é¦–é¡µï¼ˆæˆ–è€…å¯æ”¹ä¸ºæœç´¢ç©ºå­—ç¬¦ä¸²ï¼‰
                    return 'https://www.bing.com';
                }
                return `https://www.bing.com/search?q=${encodeURIComponent(query.trim())}`;
            }

            // æ‰§è¡Œæœç´¢ï¼šæ›´æ–° iframe å’Œ â€œæ–°çª—å£â€é“¾æ¥
            function performSearch() {
                const query = searchInput.value;
                const url = buildBingUrl(query);
                bingFrame.src = url;                // åœ¨ iframe ä¸­åŠ è½½
                newWindowLink.href = url;            // æ›´æ–°å¤‡ç”¨é“¾æ¥
            }

            // ç›‘å¬æŒ‰é’®ç‚¹å‡»
            searchBtn.addEventListener('click', function(e) {
                e.preventDefault();
                performSearch();
            });

            // ç›‘å¬è¾“å…¥æ¡†å›è½¦
            searchInput.addEventListener('keypress', function(e) {
                if (e.key === 'Enter') {
                    e.preventDefault();
                    performSearch();
                }
            });

            // åˆå§‹åŒ–ï¼šé»˜è®¤åœ¨æ–°çª—å£é“¾æ¥æŒ‡å‘ Bing é¦–é¡µï¼ˆiframe ä¿æŒ about:blank æˆ–å¯æ”¹ä¸ºé¦–é¡µï¼‰
            // è‹¥å¸Œæœ› iframe é»˜è®¤åŠ è½½ Bing é¦–é¡µï¼Œå–æ¶ˆä¸‹ä¸€è¡Œæ³¨é‡Šï¼›ä½†é¦–é¡µä¹Ÿå¯èƒ½è¢«ç¦æ­¢åµŒå…¥ï¼Œæ‰€ä»¥ç•™ç©ºæ›´ä¸­ç«‹ã€‚
            // bingFrame.src = 'https://www.bing.com';
            newWindowLink.href = 'https://www.bing.com';

            // å¯é€‰ï¼šè‹¥ç”¨æˆ·ç‚¹å‡»æœç´¢å iframe åŠ è½½å¤±è´¥ï¼Œæˆ‘ä»¬å¯ä»¥æ£€æµ‹å—ï¼Ÿâ€”â€”æ— æ³•ç›´æ¥æ£€æµ‹ X-Frame-Options æ‹’ç»ï¼Œ
            // ä½†å¯é€šè¿‡ onerror æ•è·éƒ¨åˆ†ç½‘ç»œé”™è¯¯ï¼ˆä¸ä¼šæ•è·å®‰å…¨ç­–ç•¥é˜»æ­¢ï¼‰ã€‚æˆ‘ä»¬ä¿ç•™å¤‡ç”¨é“¾æ¥å¼•å¯¼ç”¨æˆ·ã€‚
        })();
    </script>
</body>
</html>